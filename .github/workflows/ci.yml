name: CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-test:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - uses: php-actions/composer@v6
      
    - name: PHPUnit tests
      uses: php-actions/phpunit@v3
      with:
        php_extensions: "bcmath ctype curl  dba dom exif fileinfo filter gd gettext gmp hash iconv intl json libxml mbstring openssl pcntl pcre posix pspell random readline session shmop soap sockets sodium standard sysvmsg sysvsem sysvhm tidy tokenizer xsl zlib"
        configuration: "phpunit.xml"
        memory_limit: "256M"
